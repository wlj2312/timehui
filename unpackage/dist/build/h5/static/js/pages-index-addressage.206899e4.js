(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-addressage"],{"1cc4":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"row b-b center"},[a("v-uni-text",{staticClass:"tit"},[t._v("联系人")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"姓名","placeholder-class":"placeholder"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-uni-view",{staticClass:"row b-b center"},[a("v-uni-text",{staticClass:"tit"},[t._v("电话")]),a("v-uni-input",{staticClass:"input",attrs:{type:"number",maxlength:"11",placeholder:"手机号码","placeholder-class":"placeholder"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),a("v-uni-view",{staticClass:"row b-b flex-left"},[a("v-uni-text",{staticClass:"tit"},[t._v("地址")]),"请选择地址"==t.planLocate?a("AddressPicker",{staticStyle:{"font-size":"30rpx",color:"grey"},attrs:{level:3},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[t._v("请选择地址")]):t._e(),"请选择地址"!=t.planLocate?a("AddressPicker",{staticStyle:{"font-size":"30rpx",color:"#333333"},attrs:{level:3},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[t._v(t._s(t.planLocate))]):t._e()],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-input",{staticClass:"input",attrs:{type:"text","placeholder-style":"font-size: 30rpx;color: grey;",placeholder:"详细地址","placeholder-class":"placeholder"},model:{value:t.street,callback:function(e){t.street=e},expression:"street"}})],1),a("v-uni-button",{staticClass:"add-btn flex-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("确认添加")])],1)},o=[]},"31f3":function(t,e,a){"use strict";var i=a("4a68"),n=a.n(i);n.a},4996:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-0c6342ec]{padding-top:%?16?%}.center[data-v-0c6342ec]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.row[data-v-0c6342ec]{position:relative;padding:0 %?30?%;height:%?110?%;background:#fff;font-size:%?30?%}.row .tit[data-v-0c6342ec]{-webkit-flex-shrink:0;flex-shrink:0;width:%?120?%;font-size:%?30?%;margin-right:%?10?%}.row .input[data-v-0c6342ec]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%}.row .iconenter[data-v-0c6342ec]{font-size:%?36?%;color:#ccc}.default-row[data-v-0c6342ec]{margin-top:%?16?%}.default-row .tit[data-v-0c6342ec]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.default-row uni-switch[data-v-0c6342ec]{-webkit-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.delete[data-v-0c6342ec]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff;margin-top:%?28?%;font-size:%?30?%;font-weight:500;color:#fa2740}.add-btn[data-v-0c6342ec]{margin:0 %?14?%;background:-webkit-gradient(linear,left top,right top,from(#79d4bd),color-stop(99%,#099999));background:-webkit-linear-gradient(left,#79d4bd,#099999 99%);background:linear-gradient(90deg,#79d4bd,#099999 99%);border-radius:%?10?%;color:#fff}.alert-box[data-v-0c6342ec]{background-color:#fff}.margin-t-20[data-v-0c6342ec]{margin-top:%?20?%!important}",""]),t.exports=e},"4a68":function(t,e,a){var i=a("4996");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("086bb88b",i,!0,{sourceMap:!1,shadowMode:!1})},af3e:function(t,e,a){"use strict";a.r(e);var i=a("af95"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},af95:function(t,e,a){"use strict";var i=a("4ea4");a("4160"),a("ac1f"),a("1276"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("64dd")),o={components:{AddressPicker:n.default},data:function(){return{planLocate:"请选择地址",id:"",addressDetail:"",name:"",mobile:"",province:"",city:0,county:"",street:"",content:"",isxiugai:!1}},onLoad:function(t){console.log(t,"option"),this.isxiugai=t.isxiugai},onShow:function(){var t=this;t.isxiugai&&uni.getStorage({key:"item",success:function(e){console.log(e.data,e.data.name,"res.data-getStorage"),t.name=e.data.name,t.mobile=e.data.mobile,t.province=e.data.province,t.city=e.data.city,t.county=e.data.county,t.street=e.data.street,t.id=e.data.id,t.planLocate=t.province+"-"+t.city+"-"+t.county},fail:function(t){console.log(t,"getStorage-err")}})},methods:{change:function(t){var e=this;console.log(JSON.stringify(t.data)),this.planLocate="",t.data.forEach((function(t,a){e.planLocate+=0===a?t.name:"-"+t.name}));var a=this.planLocate.split("-");this.province=a[0],this.city=a[1],this.county=a[2],console.log(this,"this"),console.log(a)},switchChange:function(t){console.log(t,1111),this.addressData.default=t.value},confirm:function(){var t=this;if(t.isxiugai)t.city==t.county?uni.showToast({title:"地址有误",duration:2e3}):uni.request({url:t.$store.state.baseURL+"/api/address/update",method:"POST",data:{id:t.id,mobile:t.mobile,name:t.name,province:t.province,city:t.city,county:t.county,street:t.street},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){0==t.data.error_code?(uni.showToast({title:"修改成功",duration:2e3}),uni.navigateBack({delta:1})):uni.showToast({title:"修改失败",duration:2e3})},fail:function(t){console.log(t)}});else{if(!t.name)return void uni.showToast({title:"请填写收货人姓名",duration:2e3});if(11!=t.mobile.length)return void uni.showToast({title:"请输入正确的手机号码",duration:2e3});if(!t.province||!t.city||!t.county)return void uni.showToast({title:"请选择地址",duration:2e3});if(!t.street)return void uni.showToast({title:"请填写详细地址",duration:2e3});t.city==t.county?uni.showToast({title:"地址有误",duration:2e3}):uni.request({url:this.$store.state.baseURL+"/api/address/add",method:"POST",data:{mobile:t.mobile,name:t.name,province:t.province,city:t.city,county:t.county,street:t.street},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){console.log(t,t.data,t.data.data,"/api/address/add"),0==t.data.error_code?(uni.showToast({title:"提交成功",duration:2e3}),uni.navigateBack({delta:1})):uni.showToast({title:t.data.error_msg,duration:2e3})}})}}}};e.default=o},e33f:function(t,e,a){"use strict";a.r(e);var i=a("1cc4"),n=a("af3e");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("31f3");var c,r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"0c6342ec",null,!1,i["a"],c);e["default"]=s.exports}}]);